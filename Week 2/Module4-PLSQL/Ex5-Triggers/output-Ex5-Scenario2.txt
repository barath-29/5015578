SQL> 
SQL> VARIABLE input VARCHAR2(30)
SQL> 
SQL> -- Create the AuditLog table
SQL> CREATE TABLE AuditLog (
  2  	 LogID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  3  	 TransactionID NUMBER,
  4  	 LogDate DATE,
  5  	 Action VARCHAR2(50)
  6  );

Table created.

SQL> 
SQL> -- Trigger to insert a record into the AuditLog table whenever a transaction is inserted
SQL> CREATE OR REPLACE TRIGGER LogTransaction
  2  AFTER INSERT ON TRANSACTIONS
  3  FOR EACH ROW
  4  BEGIN
  5  	 INSERT INTO AuditLog (TransactionID, LogDate, Action)
  6  	 VALUES (:NEW.TransactionID, SYSDATE, 'Transaction Inserted');
  7  END;
  8  /

Trigger created.

SQL> 
SQL> -- Test the trigger by inserting a transaction
SQL> INSERT INTO TRANSACTIONS (TransactionID, ACCOUNTID, TRANSACTIONDATE, AMOUNT, TRANSACTIONTYPE)
  2  VALUES (3001, 1, SYSDATE, 500, 'Deposit');

1 row created.

SQL> 
SQL> -- Verify the audit log entry
SQL> SELECT * FROM AuditLog;

     LOGID TRANSACTIONID LOGDATE                                                
---------- ------------- ---------                                              
ACTION                                                                          
--------------------------------------------------                              
         1          3001 05-AUG-24                                              
Transaction Inserted                                                            
                                                                                

SQL> 
SQL> SPOOL OFF
